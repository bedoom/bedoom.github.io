I"Ä.<p>ç»è¿‡å‰å‡ æ¬¡çš„å­¦ä¹ ï¼Œç›¸ä¿¡å·²ç»æ˜¯ç‚‰ç«çº¯é’ï¼Œè¿™ç« ä¾¿æ˜¯è¯•é‡‘çŸ³ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ä¸€ç¢°å°±ç¢ã€‚</p>

<!--more-->

<h2 id="ç»„åˆé€»è¾‘è®¾è®¡">ç»„åˆé€»è¾‘è®¾è®¡</h2>

<p>ç‰¹ç‚¹ï¼šç®€å•ï¼Œç›´æ¥æè¿°çœŸå€¼è¡¨å³å¯ã€‚</p>

<h3 id="è®¾è®¡ä¸€ä¸ªå››ä½åŠ æ³•å™¨">è®¾è®¡ä¸€ä¸ªå››ä½åŠ æ³•å™¨</h3>

<p>è¦æ±‚åº”ç”¨ä¸€ä½å…¨åŠ å™¨æŒ‰å¦‚ä¸‹ç”µè·¯å›¾é€šè¿‡ç»“æ„æè¿°æ–¹å¼æ„é€ å››ä½åŠ æ³•å™¨ã€‚</p>

<div class="grid-container"> 
    <div class="grid grid--p-3">   
        <div class="cell cell--6"><div><img src="https://gitee.com/bedoom/images/raw/master/202112091626096.png" alt="image-20211209162623129" /></div></div>   
        <div class="cell cell--6"><div><img src="https://gitee.com/bedoom/images/raw/master/202112091631474.png" alt="image-20211209163059790" /></div></div>     
    </div>
</div>
<p><strong>æ–¹æ³•ä¸€</strong>ï¼šå†™å‡ºè¡¨è¾¾å¼ç›´æ¥ä¸€ä¸€å¯¹åº”ï¼Œæ˜¯æœ€ç®€å•çš„ï¼Œä½†æ˜¯I donâ€™t likeã€‚</p>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">entity</span> <span class="n">adder4</span> <span class="k">if</span>
    <span class="k">port</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="k">in</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">ci</span><span class="p">:</span> <span class="k">in</span> <span class="kt">std_logic</span><span class="p">;</span>
        <span class="n">s</span><span class="p">:</span> <span class="k">out</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">co</span><span class="p">:</span> <span class="k">out</span> <span class="kt">std_logic</span><span class="p">);</span>
<span class="k">end</span> <span class="n">adder4</span><span class="p">;</span>
    
<span class="k">ARCHITECTURE</span> <span class="n">rtl</span> <span class="k">OF</span> <span class="n">adder4_3</span> <span class="k">IS</span>
	<span class="k">COMPONENT</span> <span class="n">full_adder</span> <span class="k">IS</span>
		<span class="k">PORT</span>
		<span class="p">(</span>	<span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">ci</span>		<span class="p">:</span> <span class="k">IN</span>	<span class="kt">STD_LOGIC</span><span class="p">;</span>
			<span class="n">s</span><span class="p">,</span><span class="n">co</span>		<span class="p">:</span> <span class="k">OUT</span>	<span class="kt">STD_LOGIC</span>		<span class="p">);</span>
	<span class="k">END</span> <span class="k">COMPONENT</span> <span class="n">full_adder</span><span class="p">;</span>	
	<span class="k">signal</span> <span class="n">C0</span><span class="p">,</span><span class="n">C1</span><span class="p">,</span><span class="n">C2</span> <span class="p">:</span> <span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="k">BEGIN</span>
	<span class="n">u0</span><span class="p">:</span><span class="n">full_adder</span> <span class="k">PORT</span> <span class="k">MAP</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">B</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">CI</span><span class="p">,</span><span class="n">S</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">C0</span><span class="p">);</span>
	<span class="n">u1</span><span class="p">:</span><span class="n">full_adder</span> <span class="k">PORT</span> <span class="k">MAP</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">B</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C0</span><span class="p">,</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C1</span><span class="p">);</span>
	<span class="n">u2</span><span class="p">:</span><span class="n">full_adder</span> <span class="k">PORT</span> <span class="k">MAP</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">B</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C1</span><span class="p">,</span><span class="n">S</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C2</span><span class="p">);</span>
	<span class="n">u3</span><span class="p">:</span><span class="n">full_adder</span> <span class="k">PORT</span> <span class="k">MAP</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">B</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">C2</span><span class="p">,</span><span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">CO</span><span class="p">);</span>
<span class="k">END</span> <span class="n">rtl</span><span class="p">;</span>
</code></pre></div></div>

<p>å…ƒä»¶å®šä¹‰ï¼š</p>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ENTITY</span> <span class="n">full_adder</span> <span class="k">IS</span>
	<span class="k">PORT</span>
	<span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">ci</span><span class="p">:</span> <span class="k">IN</span>	<span class="kt">STD_LOGIC</span><span class="p">;</span>
		<span class="n">s</span><span class="p">,</span><span class="n">co</span><span class="p">:</span> <span class="k">OUT</span> <span class="kt">STD_LOGIC</span><span class="p">);</span>
<span class="k">END</span> <span class="n">full_adder</span><span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="n">rtl</span> <span class="k">OF</span> <span class="n">full_adder</span> <span class="k">IS</span>
<span class="k">BEGIN</span>
	<span class="n">s</span> <span class="o">&lt;=</span> <span class="n">a</span> <span class="ow">xor</span> <span class="n">b</span> <span class="ow">xor</span> <span class="n">ci</span><span class="p">;</span>
	<span class="n">co</span> <span class="o">&lt;=</span>  <span class="p">(</span><span class="n">a</span> <span class="ow">and</span> <span class="n">b</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">a</span> <span class="ow">and</span> <span class="n">ci</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">b</span> <span class="ow">and</span> <span class="n">ci</span><span class="p">);</span>
<span class="k">END</span> <span class="n">rtl</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="è®¾è®¡ä¸€ä¸ªåŒå‘æ€»çº¿ç¼“å†²å™¨">è®¾è®¡ä¸€ä¸ªåŒå‘æ€»çº¿ç¼“å†²å™¨</h3>

<p><img src="https://gitee.com/bedoom/images/raw/master/202112091644789.png" alt="image-20211209164411678" class="shadow" /></p>

<h2 id="æ—¶åºé€»è¾‘è®¾è®¡">æ—¶åºé€»è¾‘è®¾è®¡</h2>

<p>æ—¶åºç”µè·¯çš„è®¾è®¡ä¼šæ¯”ç»„åˆé€»è¾‘ç”µè·¯çš„è®¾è®¡å¤æ‚ä¸€äº›ï¼Œå› ä¸ºæ—¶åºç”µè·¯çš„è¾“å‡ºä¸ä»…ä¸å½“å‰çš„è¾“å…¥æœ‰å…³ï¼Œè¿˜ä¸ä»¥å‰çš„è¾“å‡ºæœ‰å…³ã€‚å› æ­¤æ—¶åºç”µè·¯å¿…ç„¶æœ‰å­˜å‚¨å•å…ƒï¼Œä¸€èˆ¬ä¸ºå­˜å‚¨å™¨æˆ–è€…å¯„å­˜å™¨ã€‚</p>

<ol>
  <li>ç›´æ¥æè¿°è½¬æ¢çœŸæ­£è¡¨</li>
  <li>å…ˆæ„é€ å¯„å­˜å™¨ï¼Œç„¶åç”¨RTLæè¿°å¯„å­˜å™¨ä¹‹é—´çš„é€»è¾‘å…³ç³»</li>
  <li>ä½¿ç”¨ç»“æ„æè¿°ï¼Œç›´æ¥æ„é€ ç”µè·¯å›¾</li>
</ol>

<p>Eg:</p>

<p>è¦æ±‚è®¾è®¡ä¸€ä¸ªå…·æœ‰åŒæ­¥æ¸…é›¶å’Œå¹¶è¡Œè¾“å‡ºåŠŸèƒ½çš„10è¿›åˆ¶åŠ æ³•è®¡æ•°å™¨ï¼Œå…¶å¼•è„šåç§°å’Œé€»è¾‘åŠŸèƒ½å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>

<p><img src="https://gitee.com/bedoom/images/raw/master/202112121406899.png" alt="image-20211212140637456" class="shadow" /></p>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">library</span> <span class="n">ieee</span><span class="p">;</span>
<span class="k">use</span> <span class="n">ieee</span><span class="o">.</span><span class="n">std_logic_1164</span><span class="o">.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span> <span class="n">ieee</span><span class="o">.</span><span class="n">std_logic_unsignal</span><span class="o">.</span><span class="k">all</span><span class="p">;</span>

<span class="k">entity</span> <span class="n">counter10</span> <span class="k">is</span>
    <span class="k">port</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="n">clr</span><span class="p">:</span> <span class="k">in</span> <span class="kt">std_logic</span><span class="p">;</span>
        <span class="n">q</span><span class="p">:</span> <span class="k">buffer</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">co</span><span class="p">:</span> <span class="k">out</span> <span class="kt">std_logic</span><span class="p">);</span>
<span class="k">end</span> <span class="n">counter10</span><span class="p">;</span>
    
<span class="k">architecture</span> <span class="n">my_function</span> <span class="k">of</span> <span class="n">counter10</span> <span class="k">is</span>
<span class="k">begin</span>
    <span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="n">clr</span><span class="p">)</span>
    <span class="k">begin</span>
        <span class="k">if</span><span class="p">(</span><span class="n">clk</span><span class="na">'event</span> <span class="ow">and</span> <span class="n">clk</span> <span class="o">=</span> <span class="sc">'1'</span><span class="p">)</span> <span class="k">then</span>
            <span class="k">if</span><span class="p">(</span><span class="n">clr</span> <span class="o">=</span> <span class="sc">'0'</span><span class="p">)</span> <span class="k">then</span>
                <span class="n">q</span><span class="o">&lt;=</span><span class="s1">"0000"</span><span class="p">;</span> <span class="n">co</span><span class="o">&lt;=</span><span class="sc">'0'</span><span class="p">;</span>
        	<span class="k">else</span>
                <span class="k">if</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">"1001"</span><span class="p">)</span> <span class="k">then</span>
                    <span class="n">q</span><span class="o">&lt;=</span><span class="s1">"0000"</span><span class="p">;</span> <span class="n">co</span><span class="o">&lt;=</span><span class="sc">'1'</span><span class="p">;</span>
        		<span class="k">else</span>
                	<span class="n">q</span> <span class="o">&lt;=</span> <span class="n">q</span><span class="o">+</span><span class="sc">'1'</span><span class="p">;</span> <span class="n">co</span> <span class="o">&lt;=</span> <span class="sc">'0'</span><span class="p">;</span>
        		<span class="k">end</span> <span class="k">if</span><span class="p">;</span>
            <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
        <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">process</span><span class="p">;</span>
<span class="k">end</span> <span class="n">my_function</span><span class="p">;</span>
</code></pre></div></div>

:ET